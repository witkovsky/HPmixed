function D = Diagm(n)
%DIAGM   Creates block-diagonal matrix from 1-vectors
%        with dimensions given in n=[n_1;...;n_k].
%
%======================================================================
% Syntax:
%        D=diagm(n);
%======================================================================
%        See also:  design2.m

%======================================================================
% Ver.: 2.0
% Revised 19-Dec-2001 20:31:48
% Copyright (c) 1998-2001 Viktor Witkovsky
%======================================================================
%	BEGIN DIAGM.M
%======================================================================
n = n(:);
k = length(n);
N = sum(n);
D = zeros(N,k);
m = cumsum(n);
m = [0;m];
for i = 1:k
    D((m(i)+1):m(i+1),i) = ones(n(i),1);
end
%======================================================================
%	END DIAGM.M
%======================================================================
